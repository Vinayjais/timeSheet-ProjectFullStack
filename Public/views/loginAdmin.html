<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>
<body>
     
     <div>
        <h3>Admin Login</h3>

        <form action="/admin-login" method="post" onsubmit="getAdmin()">
            <label for="Email">Email :</label>
            <input type="email" id="email" required>
            <label for="password">Password</label>
            <input type="password" name="password" id="password">
            <button type="submit">Login As Admin</button>
        </form>
     </div>

     <script>
        

      

async function getAdmin(){
    const email  = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    console.log(email);
   await axios.post('http://localhost:4000/admin-login',{email,password})
  .then( (response) =>{
         
     console.log(response);
          console.log('in response')
        //    localStorage.setItem('admintoken', response.data.token);

           if(response.data.msg === true){
            window.location.replace('/admin');
           }
           else{
              alert('Something went Wrong, please check email or Password !')
           }
    
           
  })
  .catch((err) =>{
    console.log(err)
  })
}

     </script>
</body>

 
</html>